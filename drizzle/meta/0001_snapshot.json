{
  "version": "5",
  "dialect": "mysql",
  "id": "2fd0a68d-e00b-4535-ae75-9bb42c240d62",
  "prevId": "cef770eb-0165-4d5e-9d15-ae141cad67e8",
  "tables": {
    "allocations": {
      "name": "allocations",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "userId": {
          "name": "userId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "ticker": {
          "name": "ticker",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "weight": {
          "name": "weight",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "strategy": {
          "name": "strategy",
          "type": "enum('equal','value-weighted','conviction','manual')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'manual'"
        },
        "accountType": {
          "name": "accountType",
          "type": "enum('brokerage','roth-ira','traditional-ira')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'brokerage'"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "allocations_id": {
          "name": "allocations_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "financialData": {
      "name": "financialData",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "ticker": {
          "name": "ticker",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "revenue": {
          "name": "revenue",
          "type": "decimal(20,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "operatingCashFlow": {
          "name": "operatingCashFlow",
          "type": "decimal(20,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "capex": {
          "name": "capex",
          "type": "decimal(20,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "totalDebt": {
          "name": "totalDebt",
          "type": "decimal(20,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "cash": {
          "name": "cash",
          "type": "decimal(20,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "sharesOutstanding": {
          "name": "sharesOutstanding",
          "type": "decimal(20,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "hasMoat": {
          "name": "hasMoat",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1
        },
        "growthRate": {
          "name": "growthRate",
          "type": "decimal(5,2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'20'"
        },
        "wacc": {
          "name": "wacc",
          "type": "decimal(5,2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'10'"
        },
        "fetchedAt": {
          "name": "fetchedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "financialData_id": {
          "name": "financialData_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "holdings": {
      "name": "holdings",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "userId": {
          "name": "userId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "ticker": {
          "name": "ticker",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "assetType": {
          "name": "assetType",
          "type": "enum('stock','crypto')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'stock'"
        },
        "shares": {
          "name": "shares",
          "type": "decimal(20,8)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "averageCostBasis": {
          "name": "averageCostBasis",
          "type": "decimal(20,8)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "totalCostBasis": {
          "name": "totalCostBasis",
          "type": "decimal(20,2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "addedAt": {
          "name": "addedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "holdings_id": {
          "name": "holdings_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "priceHistory": {
      "name": "priceHistory",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "ticker": {
          "name": "ticker",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "assetType": {
          "name": "assetType",
          "type": "enum('stock','crypto')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'stock'"
        },
        "date": {
          "name": "date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "price": {
          "name": "price",
          "type": "decimal(20,8)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "fetchedAt": {
          "name": "fetchedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "priceHistory_id": {
          "name": "priceHistory_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "users": {
      "name": "users",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "openId": {
          "name": "openId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "email": {
          "name": "email",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "loginMethod": {
          "name": "loginMethod",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "role": {
          "name": "role",
          "type": "enum('user','admin')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'user'"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        },
        "lastSignedIn": {
          "name": "lastSignedIn",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "users_id": {
          "name": "users_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "users_openId_unique": {
          "name": "users_openId_unique",
          "columns": [
            "openId"
          ]
        }
      },
      "checkConstraint": {}
    },
    "valuations": {
      "name": "valuations",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "ticker": {
          "name": "ticker",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "intrinsicValue": {
          "name": "intrinsicValue",
          "type": "decimal(20,8)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "marginOfSafety": {
          "name": "marginOfSafety",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "fcf": {
          "name": "fcf",
          "type": "decimal(20,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "fcfMargin": {
          "name": "fcfMargin",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "debtToEquity": {
          "name": "debtToEquity",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "vultureStatus": {
          "name": "vultureStatus",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "calculatedAt": {
          "name": "calculatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "valuations_id": {
          "name": "valuations_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "watchlist": {
      "name": "watchlist",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "userId": {
          "name": "userId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "ticker": {
          "name": "ticker",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "assetType": {
          "name": "assetType",
          "type": "enum('stock','crypto')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'stock'"
        },
        "addedAt": {
          "name": "addedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "watchlist_id": {
          "name": "watchlist_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    }
  },
  "views": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "tables": {},
    "indexes": {}
  }
}